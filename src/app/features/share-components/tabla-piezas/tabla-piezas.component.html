<div >
  
  
    <table class="w-full h-full ">
      <thead class="bg-gradient-to-r from-primary to-blue-300 sticky top-0 z-10  text-white text-xs uppercase tracking-wider shadow-md ">
        <tr>
          <th class="p-2 text-center font-extrabold">
            <input type="checkbox" [checked]="allSelected" (change)="toggleSelectAll($event)" />
          </th>
          <th class="p-2 text-center font-extrabold rounded-tl-lg drop-shadow-md">ID Pieza</th>
          <th class="p-2 text-center font-extrabold">Administradora</th>
          <th class="p-2 text-center font-extrabold">N.Permisionaria</th>
          <th class="p-2 text-center font-extrabold">Tipo producto</th>
          <th class="p-2 text-center font-extrabold">Permisionaria</th>
          <th class="p-2 text-center font-extrabold">Codigo distribucion</th>
          <th class="p-2 text-center font-extrabold">Nombre Embozado</th>
          <th class="p-2 text-center font-extrabold">Estado</th>
          <th class="p-2 text-center font-extrabold">DNI</th>
          <th class="p-2 text-center font-extrabold">ID Cobis</th>
          <th class="p-2 text-center font-extrabold">NÂ° Tarjeta</th>
          <th class="p-2 text-center font-extrabold">Sucursal</th>
          <th class="p-2 text-center font-extrabold">F. Alta</th>
          <th class="p-2 text-center font-extrabold">F. Cambio Estado</th>
          <th class="p-2 text-center font-extrabold">Pedido de Rescate</th>
          <th class="p-2 text-center font-extrabold">Destino Distribucion</th>



          
        </tr>
      </thead>
      <tbody>
        @if(cargando())
          {
            <div class="loader w-full h-full justify-center text-center">Cargando...</div>
          }
        @else {
          @for (fila of piezas(); track fila.IDPieza; let i = $index) {
           <tr
              class="border-b cursor-pointer text-center align-middle hover:bg-gray-200 hover:text-blue-700 transition-all duration-150"
              [class.bg-white]="i % 2 === 0"
              [class.bg-blue-100]="i % 2 !== 0"
              (click)="onRowClick(fila)"
            >
              <td class="p-2 align-middle" style="width: 40px; height: 35px;">
                <input type="checkbox" [checked]="isSelected(fila)" (change)="toggleSeleccion(fila, $event)" (click)="$event.stopPropagation()" />
              </td>
              <td class="p-2 align-middle" style="width: 80px; height: 35px;">{{ fila.IDPieza }}</td>
              <td class="p-2 align-middle" style="width: 100px; height: 35px;">{{ fila.Secuencia }}</td>
              <td class="p-2 align-middle" style="min-width: 130px; max-width: 130px; height: 35px;">{{ fila.SecPermisionaria }}</td>
              <td class="p-2 align-middle" style="min-width: 150px; max-width: 320px; height: 35px;">{{ fila.TipoProducto }}</td>
              <td class="p-2 align-middle" style="width: 120px; height: 35px;">{{ fila.permisionaria }}</td>
              <td class="p-2 align-middle" style="min-width: 250px; max-width: 270px; height: 35px;">{{ fila.CodigoDistribucion }}</td>

              <td class="p-2 align-middle" style="min-width: 270px; max-width: 270px; height: 35px;  ">
                {{ fila.NombreEmbozadoTarjeta }}
              </td>
              <td class="p-2 align-middle" style="min-width: 300px;  max-width: 300px; height: 35px;">{{ fila.Estado }}</td>
              <td class="p-2 align-middle" style="width: 100px; height: 35px;">{{fila.NumeroDocumento}}</td>
              <td class="p-2 align-middle" style="width: 100px; height: 35px;">{{ fila.NumeroCliente }}</td>
              <td class="p-2 align-middle" style="width: 130px; height: 35px;">{{ fila.Nro }}</td>
              <td class="p-2 align-middle" style="min-width: 230px; max-width: 320px; height: 35px;">{{ fila.Sucursal }}</td>
              <td class="p-2 align-middle" style="width: 130px; height: 35px;">{{ fila.FechaAltaTarjeta }}</td>
              <td class="p-2 align-middle" style="min-width: 230px; max-width: 320px; height: 35px;">{{ fila.Fecha }}</td>
              <td class="p-2 align-middle" style="min-width: 200px; max-width: 200px; height: 35px;">{{ fila.IDEstadoRescate | appEstadoRescate }}</td>
              <td class="p-2 align-middle" style="min-width: 200px; max-width: 200px; height: 35px;">{{ fila.DestinoDistribucion }}</td>

            </tr>
          }
        }


      </tbody>
    </table>

    
</div>
