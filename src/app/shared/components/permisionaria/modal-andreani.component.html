@if (open) {
  <div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30">
    <div class="bg-white rounded-lg shadow-lg p-6 min-w-[320px] max-w-[90vw]">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold text-blue-900">Estados de la Tarjeta</h3>
        <button (click)="cerrar()" class="text-gray-500 hover:text-blue-700 text-xl font-bold">&times;</button>
      </div>
      <div>
        <table class="min-w-full text-sm text-left">
          <thead>
            <tr>
              <th class="px-2 py-1 text-blue-900">Estado</th>
              <th class="px-2 py-1 text-blue-900">Fecha</th>
            </tr>
          </thead>
          <tbody>
            @for (e of estados; track e.estado + e.fecha) {
              <tr>
                <td class="px-2 py-1">{{ e.estado }}</td>
                <td class="px-2 py-1">{{ e.fecha }}</td>
              </tr>
            }
          </tbody>
        </table>
        @if (estados.length === 0) {
          <div class="text-center text-gray-400 py-4">Sin historial de estados.</div>
        }
      </div>
    </div>
  </div>
}
